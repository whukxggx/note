### 分组交换机
路由器，链路层交换机，这两种交换机朝着最终目的地转发分组。链路层交换机通常用于接入层中，路由器通常用于网络核心中。
### ISP
Internet Service Provider 网络服务提供商
每个ISP都是一个由多个分组交换机和多段通信链路组成的网络。
### TCP
Transmisson Control Protocol 传输控制协议
### IP
Internet Protocol 网际协议
IP协议定义了在路由器和端系统之间发送和接收的分组格式。

### 协议
一个协议定义了在两个或多个通信实体之间交换的报文格式和次序，以及报文发送和/或接收一条报文或其他事件所采取的动作。
### 端系统
通常把与因特网相连的计算机和其他设备成为端系统。因特网的端系统包括了桌面计算机，服务器和移动计算机。端系统也称为主机，因为它们容纳应用程序。
### 接入网
指端系统连接到其边缘路由器的物理链路。边缘路由器是端系统到任何其他远程端系统路径上的第一台路由器。
### 数字用户线
Digital Subscriber Line (DSL)

### 物理媒体

分为导引型媒体和非导引型媒体

### 存储转发传输

存储转发机制是指在交换机能够开始向输出链路传输该分组的第一个比特之前，必须接收到整个分组。因此存在存储转发时延。

### 排队时延和分组丢失

分组交换机有一个输出缓存，也称为输出队列，如果到达的分组需要传输到某条链路，但发现该链路正忙于传输其它分组，则必须在输出缓存中等待。因此除了存储转发时延还有排队时延。

因为缓存空间是有限的，一个到达的分组可能发现缓存已经被其他等待的分组占满了，此种情况将出现分组丢失（丢包），到达的分组或者已经排队 的分组之一将被丢弃。

### 转发表和路由选择协议

当源主机要向目的地系统发送一个分组时，源在该分组的首部包含了目的地的IP地址。

转发表用于将目的地址映射为输出链路。

### 电路交换

通过网络链路和交换机移动数据有两种基本方法：电路交换和分组交换。

电路交换是要先分配的。趋势是向分组交换迁移。

### 分组交换的时延、丢包和吞吐量

  #### 处理时延

检查分组首部和决定将该分组导向何处所需要的事件是处理时延的一部分。

####  排队时延

在队列中，在分组在链路上等待传输时，它经受排队时延。

#### 传输时延

传输时延时L/R,用L比特表示该分组的长度，用Rbps表示从路由器A到路由器B的链路传输速率。

#### 传播时延

一旦一个比特被推向链路，该比特需要向路由器B传播。从该链路的起点到路由器B传播所需要的时间是传播时延。

#### 传输时延和传播时延

传输时延是路由器将分组推出所需要的时间，它是分组长度和链路传输速率的函数，而与两台路由器之间的距离无关。传播时延是一个比特从一个路由器到另一个路由器之间的距离，与分组长度或链路传播速率无关。

### 流量强度

La/R  a为分组到达队列的平均速率。流量强度大于1时队列将增加。

### 丢包

由于排队容量是有限的，随着流量强度接近于1，排队时延并不实际趋向无限大。相反，到达的分组将发现一个排满的队列。由于没有地方存储这个分组，路由器将丢弃这个分组，即这个分组将会丢失。

### 吞吐量

如果一个文件为F比特，主机B接收到所有的F比特用去了S秒，则文件的平均吞吐量为F/T bps。

### 僵尸网络

僵尸网络 Botnet 是指采用一种或多种传播手段，将大量主机感染bot程序（僵尸程序）病毒，从而在控制者和被感染主机之间所形成的一个可一对多控制的网络。

## 进程通信

### 套接字(socket)

进程通过一个称为套接字的软件接口向网络发送报文和从网络接收报文。

套接字是同一台主机内应用层和运输层之间的接口。由于该套接字是建立网络应用程序的可编程接口，因此套接字也称为应用程序和网络之间的应用程序编程接口（API，Application Programming Interface）。

### 标识进程

为了表示进程，需要定义两种信息：1.主机的地址2.定义在目的主机中的接收进程的标识符。

在因特网中主机由其IP地址标识。 目的端口号用于接收进程标识符。

### 运输层协议的评价

1. 可靠数据传输

2. 吞吐量

   在沿着一条网络路径上的两个进程之间的通信会话场景中，可用吞吐量就是发送进程能够向接收进程交付比特的速率。

   具有吞吐量要求的应用程序被称为带宽敏感的应用。

   带宽敏感的应用具有特定的吞吐量要求，而弹性应用能够根据情况或多或少地利用可供使用的吞吐量。

3. 定时

4. 安全性

### TCP服务

TCP服务模型包括面向连接服务和可靠数据传输服务。

面向连接的服务：

在应用层数据报文开始连接之前，TCP让客户和服务器互相交换运输层控制信息。这个所谓的握手过程提示客户和服务器，使他们为大量分组的到来做好准备。在握手阶段后，一个TCP连接就在两个进程的套接字间建立了。这条链接是全双工的，即连接双方的进程可以在此连接上同时进行报文收发。当应用程序结束报文发送时，必须拆除该链接。

可靠的数据传输服务：

TCP协议还具有拥塞控制机制，这种服务不一定能为通信进程带来直接好处，但能为因特网带来整体好处。

*** tcp加强版ssl_(Secure Sockets Layer) ** 对tcp的安全方面的加强，在应用层上实现。

### UDP服务

UDP是一种不提供不必要服务的轻量级运输服务，它仅仅提供最小服务。UDP是无连接的，因此在两个进程通信前没有握手过程。UDP协议提供一种不可靠数据传送服务，不仅如此，到达接收进程的报文也可能是乱序到达的。UDP没有包括拥塞控制机制，所以UDP的发送端可以用它选定的任何速率向其下层注入数据。

### 应用层协议

应用层协议定义了运行在不同端系统上的应用程序进程如何相互传递报文。

应用层协议定义了：

1. 交换的报文类型，例如请求报文和响应报文。
2. 各种报文类型的语法，如报文中的各个字段及这些字段是如何描述的。
3. 字段的语义，即这些字段中包含的信息的含义。
4. 一个进程何时以及如何发送报文，对报文进行相应的规则

应用层协议只是网络应用的一部分。

#### HTTP(Hyper Text Transfer Protocol) 超文本传输协议

http使用TCP作为它的支撑运输协议。

因为HTTP服务器并不保存关于客户的任何信息，所以我们说HTTP是一种无状态协议。

1. 非持续连接的HTTP

   每个请求/响应对经一个单独的TCP连接发送。

2. 持续连接的HTTP

   所有的请求及其响应经相同的TCP连接发送。

### 三次握手

考虑用户点击一个超链接时会发生什么现象，这引起浏览器在它和Web服务器之间发送一个TCP连接，这涉及一次“三次握手”过程，即客户向服务器发送一个小TCP报文段，服务器用一个小TCP报文段做出确认和响应，最后，客户向服务器返回确认。三次握手的前两个部分所耗的时间占了一个RTT（往返时间 Round-trip time）完成三次握手的前两个部分后，客户结合三次握手的第三部分向该TCP连接发送一个HTTP请求报文，一旦该请求报文到达服务器，服务器就在该TCP连接上发送HTML文件。该HTTP请求/响应用去了另一个RTT。 因此，粗略的讲，总的响应时间就是两个RTT加上服务器传输HTML文件的时间。

非持续连续的缺点：必须为每一个请求的对象建立和维护一个全新的连接。每一个对象经受两倍RTT的交付时延，即一个RTT用于创建TCP,另一个RTT用于请求和接收一个对象。

而持续连接在发送响应后保持该TCP连接打开。

#### HTTP请求报文

HTTP请求报文的第一行叫做请求行，其后继的行叫做首部行。请求行有三个字段：方法字段，URL字段和HTTP字段。方法字段可以取几种不同的值，包括GET,POST,HEAD,PUT和DELETE。绝大部分HTTP报文使用GET方法。使用POST方法的时候首部行后有一个实体体，使用GET的时候实体体为空。

用表单生成的请求报文不是必须使用POST方法。HTML表单经常使用GET方法。

#### HTTP响应报文

三个部分，初始状态行，首部行，实体体。实体体是报文的主要部分，即它包含了所请求的对象本身。

#### 状态码和相关的短语

200 OK :请求成功，信息在返回的响应报文中。

301 Move Permanently:请求的对象已经被永久转移了，新的URL定义在响应报文的Location：首部行中。客户软件将自动获取新的URL。

400 Bad Request： 一个通用差错代码，指示该请求不能被服务器理解。

404 Not Found： 被请求的文档不在服务器上。

505 HTTP Version  No Supported： 服务器不支持请求报文所使用的HTTP协议版本。

### COOKIE

cookie技术有四个组件：

1. 在HTTP响应报文中的一个cookie首部行
2. 在http请求报文中的一个cookie首部行
3. 在用户端有一个cookie文件，并由用户的浏览器进行管理。
4. 位于web站点的一个后端数据库。

cookie可以用于标识一个用户。 p92 计算机自顶向下

### WEB缓存

WEB缓存器（web cache）也叫做代理服务器（proxy server），它是能够代表初始web服务器来满足http请求的网络实体。Web缓存器有自己的磁盘存储空间，并在存储空间中保存最近请求过的对象的副本。

WEB缓存器的作用过程看P94

WEB缓存器既是服务器又是客户。当它接收浏览器的请求并发回响应时，它是一个服务器。当它向初始服务器发出请求并响应时，它是一个客户。(我)WEB服务器似乎与cache有一定的相似之处。

部署缓存器的原因：

1. Web缓存器可以大大减少对客户请求的响应时间，特别是当客户与初始服务器之间的瓶颈带宽远低于客户与web缓存器之间的瓶颈带宽时更是如此。
2. Web缓存器能够大大减少一个机构的接入链路到因特网的通信量。通过减少通信量，该机构就不必急于增加带宽，因此降低了费用。
3. 此外，Web缓存器能够从整体上大大减低因特网上的Web流量，从而改善了所有应用的性能。

### 条件GET方法

HTTP协议的机制，用于缓存器证实它的对象是最新的。

如果

1. 请求报文中使用GET方法 
2. 请求报文中包含一个"If-Modified-Since:"首部行，那么，这个HTTP请求报文就是一个条件GET请求报文。

### FTP

用户通过一个FTP用户代理与FTP交互。

该用户首先提供远程主机的主机名，使本地主机的FTP客户进程建立一个到远程主机FTP服务器进程的TCP连接。该用户接着提供用户标识和口令，作为FTP命令的一部分在该TCP连接上传送。

FTP和HTTP有很多共同的特点，例如，他们都运行在TCP上。然而，这两个应用层协议也有一些重要的区别。比较显著的是FTP用了两个并行的TCP连接来传输文件，一个是控制连接，一个是数据连接。控制连接用于在两个主机之间传输控制信息，比如用户标识，口令，改变远程目录的命令以及存放(put)和获取(get)文件的命令。数据连接则用于实际发送一个文件。因为FTP协议使用一个独立的控制连接，所以我们也称FTP的控制信息是是带外传送的。而HTTP协议是在传输文件的同一个TCP连接中发送请求和响应首部行的。因此，HTTP也可以说是带内发送控制信息的。

对于FTP传输而言，控制连接贯穿了整个用户会话期间，但是对会话中的每一次文件传输都需要建立一个新的数据连接。即数据连接是非持续的。

### FTP命令和回答

比较常见的命令和回答在p99

### 因特网中的电子邮件

三个主要组成部分：

1. 用户代理 user agent

   用户代理允许用户阅读、回复、转发、保存和撰写报文。

2. 邮件服务器 mail server

   邮件服务器形成了电子邮件体系结构的核心。

3. 简单邮件传输协议 SMTP Simple Mail Transfer Protocol

   SMTP是因特网电子邮件应用的核心。
   
   SMTP一般不使用中间邮件服务器发送邮件，即使这两个邮件服务器位于地球的两端。

### SMTP和HTTP的对比

这两个协议都使用持续连接。

区别：

1. HTTP主要是一个拉协议(pull protocol)，即在方便的时候，某些人在Web服务器上装载信息，用户使用HTTP从该服务器拉取这些信息。特别是TCP连接是由想接受文件的机器发起的。另一方面，SMTP基本上是一个推协议，(push protocol),即发送邮件服务器把文件推向接收邮件服务器。这个TCP连接是由发送该文件的机器发起的。
2. SMTP要求每个报文使用7比特ASCII码格式。如果某报文包含了非7比特ASCII字符或二进制数据，则该报文必须按照7比特ASCII比特ASCII码进行编码。HTTP数据则不受这种限制。
3. 第三个重要区别是如何处理一个既包含文本又包含图形的文档。 HTTP把每个对象封装到它自己的HTTP响应报文中，而SMTP则把所有报文对象放在一个报文之中。

### 邮件访问协议

p105

一些流行的邮件访问协议：第三版的邮件协议，因特网邮件访问协议。

SMTP用于发送方的用户代理传递到发送方的邮件服务器和从发送方的邮件服务器发送到接收方的邮件服务器，而邮件访问协议用以将邮件从接收方的邮件服务器传送到接收方的用户代理。

#### POP3

极为简单的一个邮件访问协议。

p105

####  IMAP

比POP3具有更多的特色，不过也比POP3复杂的多。

#### 基于Web的电子邮件

用户代理就是普通的浏览器。协议是HTTP。

注意，此种情况下发件人用的也是HTTP协议。

### DNS

#### ip地址 

ip地址由四个字节组成，具有严格的层次结构，从左向右扫描他时，我们会得到越来越具体的关于主机位于因特网何处的信息。

#### dns提供的服务

由于人喜欢便于记忆的主机标识，路由器喜欢ip地址(定长，具有层次结构)。因此需要一种主机名到IP地址的转换的目录服务。这就是域名系统(DNS,Domain Name System)的主要任务。

DNS是：

1. 一个由分层的DNS服务器实现的分布式数据库。
2. 一个使得主机能够查询分布式数据库的应用层协议。

DNS通常是由其他应用层协议所使用的，包括HTTP,SMTP,FTP，将用户提供的主机名解析为IP地址。

主机别名服务

邮件服务器别名服务

负载分配

### DNS工作机理

p110

由于单一DNS服务器具有很多问题(p110)，因此，DNS采用了分布式的设计方案。

#### 1. 分布式、层次数据库

大致来说，有三种类型的DNS服务器：根DNS服务器、顶级域DNS服务器，权威DNS服务器。

1. 根DNS服务器。在因特网上有13个根DNS服务器，他们中的大部分位于北美洲。
2. 顶级域(DNS)服务器。这些服务器负责顶级域名如com、org、net、edu等。
3. 权威DNS服务器。在因特网上具有公共可访问主机的每个组织机构必须提供公共可访问的DNS记录，这些记录将这些主机的名字映射为IP地址。

根、TLD和权威DNS服务器都处在该DNS服务器的层次结构中，如图2-19中所示。还有另一类重要的DNS,称作***本地DNS服务器(local DNS server)***。一个本地DNS服务器严格来说并不属于该服务器的层次结构，但它对DNS层次结构是重要的。每个ISP都有一台本地DNS服务器。当主机与某个ISP连接时，该ISP提供一台主机的IP地址，该主机具有一台或多台其本地DNS服务器的IP地址。***简单举例p112***

#### 2. DNS缓存

为了改善时延性能并减少在因特网上到处传输的DNS报文数量，DNS广泛使用了缓存技术。

### DNS记录和报文

资源记录包含以下字段的4元组：

***(Name,Value,Type,TTL)*** Name和Value的值取决于type。

1. DNS报文

   分为***dns查询报文***和***dns回答报文***。查询报文和回答报文有相同的格式。报文格式p114

2. 在DNS数据库中插入记录

   在注册登记机构注册域名。

### P2P应用

1. **文件分发** 

   * p2p体系结构的扩展性 p119 

     这种扩展性的原因是，对等方除了是比特的消费者外还是它们的重新分发者。

   * BitTorrent

     一个用于文件分发的流行P2P协议。

     参与一个特定文件分发的所有对等方的集合bb被称为一个洪流。

     稀缺优先技术。

2. **分布在大型对等方社区中的数据库**

   分布式散列表 (DHT ,Distributed Hash Table)p123

   1. 环形DHT
   2. 对等方扰动
   
   ### TCP套接字编程
   
   在研发阶段，开发者必须先做的一个决定是，应用程序是运行在TCP上还是运行在UDP上。
   
   ## 运输层
   
   运输层介于应用层和网络层之间，是分层的网络体系结构的重要部分。
   
   ### 概述和运输层服务
   
   运输层协议为运行在不同主机上的应用进程之间提供了逻辑通信功能。
   
   运输层协议是在端系统中而不是在路由器中实现的。
   
   在发送端，运输层将从发送应用程序进程接收到的报文转换成运输层分组，用因特网术语来讲该分组称为运输层报文段。实现的方法是将应用报文划分为较小的块，并为每块加上一个运输层首部以生成运输层报文段。之后，在发送端系统中，运输层将这些报文段传递给网络层，网络层将其封装成网络层分组(即数据报)并向目的地发送。注意到下列事是重要的:网络路由器仅作用于该数据报的网络层字段，它们不检查封装在该数据报的运输层报文。
   
   #### 运输层和网络层的关系
   
   网络层提供了主机之间的逻辑通信，而运输层为运行在不同主机上的进程之间提供了逻辑通信。
   
   例子 p145
   
   运输层协议只工作在端系统中。在端系统中，运输层协议将来自应用进程的报文移动到网络边缘，反过来也一样。
   
   #### 因特网运输层概述
   
   因特网为应用层提供了两种截然不同的可用运输层协议。一种是UDP（用户数据报协议），它为调用它的应用程序提供了一种不可靠，无连接的服务。另一种是TCP（传输控制协议），它为调用它的应用程序提供了一种可靠的，面向连接的服务。
   
   因特网文献将TCP的运输层分组称为报文段，将UDP的分组称为数据报。
   
   UDP和TCP的最基本的责任是，将两个端系统间IP的交付服务扩展为运行在端系统上的两个进程之间的交付服务。将主机间交付扩展到进程间交付被称为运输层的多路复用与多路分解。
   
   UDP和TCP还可以通过在其报文段首部中包括差错检查字段而提供完整性检查。
   
   UDP仅能提供进程到进程的数据交付和差错检查。
   
   TCP提供了几种附加服务。
   
   1. 首先，它提供可靠数据传输。通过使用流量控制、序号、确认和定时器，TCP确保正确地、按序地将数据从发送进程交付给接收进程。这样，两个端系统间地不可靠IP服务转换成了一种进程间的可靠数据传输服务。
   2. TCP还提供拥塞机制。这是提供给整个因特网的服务，带来通用好处。这个机制防止任何一条TCP连接用过多流量来淹没通信主机之间的链路和交换设备。

#### 多路复用和多路分解

***p147***

一个进程有一个或多个套接字。

将运输层报文段中的数据交付到正确的套接字的工作称为**多路分解**。

在源主机从不同套接字中收集数据块，并为每个数据块封装上首部信息从而生成报文段，然后将报文段传递到网络层，所有这些工作称为**多路复用**。

运输层多路复用要求：

1. 套接字有唯一标识符。
2. 每个报文段有特殊字段来指示该报文段所要交付到的套接字。// 这些特殊字段是**源端口号字段**和**目的端口号字段**。
3. 端口号是一个16比特的数，其大小在0~65535之间。0~1023范围的端口号称为周知端口号，是受限制的，这是指它们保留给诸如HTTP80和FTP21 之类的周知应用层协议来使用。

* 无连接的多路复用和多路分解

* 面向连接的多路复用和多路分解

TCP套接字和UDP套接字之间的一个细微差别是，TCP套接字是由一个四元组（源IP地址，源端口号，目的IP地址，目的端口号）来标识的。

* web服务器和TCP

  子进程

### 无连接运输：UDP

怎样工作的，能做些什么。UDP除了复用/分解以及少量的差错检测外，它几乎没有对IP增加别的东西。

DNS是一个通常使用UDP协议的例子。

许多应用更适合用UDP：

* 关于何时、发送什么数据的应用层控制更为精细。
* 无需连接建立。
* 无连接状态
* 分组首部开销小。

#### UDP报文段结构

#### UDP检验和

计算方法 **p156**

### 可靠数据传输原理

可靠数据传输协议

注意 可靠数据传输协议的下层协议也许是不可靠的。IP协议不可靠。

rdt 可靠数据传输

udt 不可靠数据传输

#### 构建可靠数据传输协议

  rdt reliable data transfer

1. 经完全可靠信道的可靠数据传输：rdt1.0

   最简单的情况，即底层信道是完全可靠的。**p158**

2. 经具有比特差错信道的可靠数据传输：rdt2.0

   底层信道更为实际的模型是分组中的比特可能受损。这种比特差错通常会出现在网络的物流部件中。

   自动重传请求协议。(Automatic Repeat reQuest,ARQ协议)

   ARQ协议中还需要另外三种协议功能来处理存在比特差错的情况：

   * 差错检测。
   * 接收方反馈。
   * 重传。

   **停等协议**
   
   ACK或NAK分组受损的可能性。

3. 经具有比特差错的丢包信道的可靠数据传输：rdt3.0

   现在假定除了比特受损外，底层信道还会丢包。

   **冗余数据分组**

   **倒计数定时器**

####  流水线可靠数据传输协议

rdt3.0的性能问题

解决流水线的差错恢复有两种基本方法是：回退N步(GO-Back-N,GBN)和选择重传(Selective Repeat,Sr)

#### 回退N步(GO-Back-N)

#### 选择重传

窗口长度必须小于或等于序号空间大小的一半。

### 面向连接的运输：TCP

#### TCP连接

TCP连接提供的是全双工服务：如果一台主机上的进程A与另一台主机上的进程B存在一条TCP连接，那么应用层数据就可在从进程B流向进程A的同时，也从进程A流向进程B。

TCP连接也总是点对点的，即在单个发送方与单个接收方之间的连接。

#### 三次握手

客户首先发送一个特殊的TCP报文段，服务器用另一个特殊的TCP报文段来响应，最后，客户再用第三个特殊报文段作为响应。前两个报文段不承载“有效载荷”，第三个报文段可以承载有效载荷。

**P176**

 发送缓存  最大报文段长度    最大传输单元

TCP为每块数据配上一个TCP首部，从而形成多个TCP报文段。

#### TCP报文段结构

TCP报文段由首部字段和一个数据字段组成。

1. 序号和确认号。TCP把数据看成一个无结构的，有序的字节流。一个报文段的序号是该报文段的字节流编号。主机A填充进报文段的确认号是主机A期望从主机B收到的下一字节的序号。

   因为TCP只确认该流中至第一个丢失字节为止的字节，所以TCP被称为提供累计确认。

2. Telnet，一个交互式应用。

#### 往返时间的估计与超时

1. 估计往返时间
2. 设置和管理重传超时间隔

#### 可靠数据传输

TCP在IP不可靠的尽力而为服务之上创建了一种可靠数据传输服务。

**p183**

超时间隔加倍

快速重传

冗余ACK

是回退N步还是选择重传

混合体

#### 流量控制

流量控制是一个速度匹配服务，即发送方的发送速率与接收方应用程序的读取速率相匹配。

TCP发送方也可能因为IP网络的拥塞而被遏制，这种形式的发送方的控制被称为**拥塞控制**。

发送方维护一个**接收窗口**变量  用于给发送方一个提示---该接收方还有多少可用的缓存空间。

由于是全双工，因此两端都各自维护一个接收窗口。

#### TCP连接管理

更具体的TCP连接的建立：**p189**

### 拥塞控制原理

#### 拥塞原因和代价

#### 拥塞控制方法

* 端到端拥塞控制
* 网络辅助的拥塞控制


### TCP拥塞控制

TCP使用端到端拥塞控制而不是网络辅助的拥塞控制，因为IP层不向端系统提供显式的网络拥塞反馈。

TCP所采用的方法是让每一个发送方根据所感知到的网络拥塞程度来限制其能像连接发送流量的速率。三个问题：

* 一个TCP发送方如何限制它向其连接发送流量的速率？

  **拥塞窗口**

* 一个TCP发送方如何感知从它到目的地之间的路径上存在拥塞呢？

  丢包事件：要么出现超时，要么收到来自接收方的3个冗余ACK。当出现过度的拥塞时，在沿着这条路径上的一台路由器的缓存会溢出，引起一个数据包被丢弃。

  因为TCP使用确认来触发增大它的拥塞窗口长度，TCP被说成是自计时的。

* 当发送方感知到端到端的拥塞时，采用何种算法来改变其发送速率？

  * 一个丢失的报文段意味着拥塞，因此当丢失报文段时应降低TCP发送方的速率。
  * 一个确认报文段指示该网络正在向接收方交付发送方的报文段，因此，当对先前未确认报文段的确认到达时，能够增加发送方的速率。
  * 带宽侦测。

TCP拥塞控制算法：

* 慢启动

  指数增长。

  TCP分岔：优化云服务的性能。

* 拥塞避免

* 快速恢复

**加性增、乘性减**



ACCEPT函数在第三次握手之后，由于ACCEPT函数要分配资源，所以如果再第三次握手时可能需要分配资源，容易受到ddos攻击。

TIME_WAIT是主动关闭的那一端接收到FIN后的状态，主要有两个存在的理由：

* 可靠地实现TCP全双工连接的中止。
* 允许老的重复分节在网络中消逝。

通过非对称密钥加密对称密钥，通过对称密钥加密实际请求的内容。

TCP选项:

* MSS 选项
* 窗口规模选项
* 时间戳选项

正向代理隐藏真实客户端，反向代理隐藏真实服务端